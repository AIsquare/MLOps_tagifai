ERROR 2022-11-19 17:43:40,752 [uvicorn.error:on.py:send:119]
Traceback (most recent call last):
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 635, in lifespan
    async with self.lifespan_context(app):
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 530, in __aenter__
    await self._router.startup()
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 614, in startup
    handler()
  File "./app/api.py", line 21, in load_artifacts
    run_id = open(Path(config.CONFIG_DIR, "run_id.txt")).read()
NameError: name 'Path' is not defined


ERROR 2022-11-19 17:43:40,766 [uvicorn.error:on.py:startup:56]
Application startup failed. Exiting.

ERROR 2022-11-19 17:44:17,413 [uvicorn.error:on.py:send:119]
Traceback (most recent call last):
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 635, in lifespan
    async with self.lifespan_context(app):
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 530, in __aenter__
    await self._router.startup()
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 614, in startup
    handler()
  File "./app/api.py", line 25, in load_artifacts
    artifacts = main.load_artifacts(run_id=run_id)
  File "./tagifai/main.py", line 120, in load_artifacts
    args = Namespace(**utils.load_dict(filepath=Path(artifacts_dir, "args.json")))
  File "./tagifai/utils.py", line 15, in load_dict
    with open(filepath) as fp:
FileNotFoundError: [Errno 2] No such file or directory: '/home/aamir/mlops/stores/model/0/d4e0d9872d18475f926e594da2157154/artifacts/args.json'


ERROR 2022-11-19 17:44:17,430 [uvicorn.error:on.py:startup:56]
Application startup failed. Exiting.

ERROR 2022-11-19 18:01:08,574 [uvicorn.error:on.py:send:119]
Traceback (most recent call last):
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 635, in lifespan
    async with self.lifespan_context(app):
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 530, in __aenter__
    await self._router.startup()
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 614, in startup
    handler()
  File "./app/api.py", line 25, in load_artifacts
    artifacts = main.load_artifacts(run_id=run_id)
  File "./tagifai/main.py", line 120, in load_artifacts
    args = Namespace(**utils.load_dict(filepath=Path(artifacts_dir, "args.json")))
  File "./tagifai/utils.py", line 15, in load_dict
    with open(filepath) as fp:
FileNotFoundError: [Errno 2] No such file or directory: '/home/aamir/mlops/stores/model/0/dfc7634a1c994b808d6d4c9839be6b44/artifacts/args.json'


ERROR 2022-11-19 18:01:08,581 [uvicorn.error:on.py:startup:56]
Application startup failed. Exiting.

ERROR 2022-11-19 18:10:10,469 [uvicorn.error:h11_impl.py:run_asgi:369]
Exception in ASGI application

Traceback (most recent call last):
  File "/home/aamir/venv/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 366, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/aamir/venv/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "/home/aamir/venv/lib/python3.7/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/home/aamir/venv/lib/python3.7/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/home/aamir/venv/lib/python3.7/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
  File "/home/aamir/venv/lib/python3.7/site-packages/fastapi/routing.py", line 228, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/aamir/venv/lib/python3.7/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/aamir/venv/lib/python3.7/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/aamir/venv/lib/python3.7/site-packages/anyio/to_thread.py", line 32, in run_sync
    func, *args, cancellable=cancellable, limiter=limiter
  File "/home/aamir/venv/lib/python3.7/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
  File "/home/aamir/venv/lib/python3.7/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
  File "./app/api.py", line 42, in wrap
    @construct_response
  File "./app/api.py", line 61, in _predict
    "status-code": HTTPStatus.OK,
  File "./tagifai/predict.py", line 12, in predict
    x = artifacts["vectorizer"].transform(texts)
  File "/home/aamir/venv/lib/python3.7/site-packages/sklearn/feature_extraction/text.py", line 1871, in transform
    return self._tfidf.transform(X, copy=False)
  File "/home/aamir/venv/lib/python3.7/site-packages/sklearn/feature_extraction/text.py", line 1474, in transform
    X = check_array(X, accept_sparse='csr', dtype=FLOAT_DTYPES, copy=copy)
  File "/home/aamir/venv/lib/python3.7/site-packages/sklearn/utils/validation.py", line 63, in inner_f
    return f(*args, **kwargs)
  File "/home/aamir/venv/lib/python3.7/site-packages/sklearn/utils/validation.py", line 729, in check_array
    context))
ValueError: Found array with 0 sample(s) (shape=(0, 33684)) while a minimum of 1 is required.
